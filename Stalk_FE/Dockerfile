FROM node:18-alpine

WORKDIR /app

COPY package*.json ./
RUN npm install

COPY . .

ENV NODE_ENV=production
RUN npm run build

# ë””ë²„ê¹…: viteê°€ ì„¤ì¹˜ë˜ì—ˆëŠ”ì§€ í™•ì¸
RUN ls -la node_modules/.bin && ls -la node_modules/vite

EXPOSE 3000

# ğŸ”§ npxë¡œ ì‹¤í–‰
CMD ["npx", "vite", "preview", "--port", "3000"]
